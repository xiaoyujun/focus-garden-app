# 添加新徽章指南

本文档介绍如何为专注花园应用添加新的徽章收藏品。

## 目录结构

```
src/
├── assets/
│   └── badges/           # 徽章 SVG 文件存放目录
│       ├── focus-beginner.svg
│       ├── focus-warrior.svg
│       └── ...
└── stores/
    └── badgeStore.js     # 徽章数据配置
```

## 添加新徽章步骤

### 步骤 1: 创建 SVG 徽章文件

在 `src/assets/badges/` 目录下创建新的 SVG 文件。

**命名规范：**
- 使用 kebab-case（小写字母，连字符分隔）
- 名称应简洁描述徽章主题
- 示例：`my-new-badge.svg`

**SVG 模板：**

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <!-- 渐变背景定义 -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#颜色1"/>
      <stop offset="100%" style="stop-color:#颜色2"/>
    </linearGradient>
  </defs>
  
  <!-- 外圆背景 -->
  <circle cx="50" cy="50" r="45" fill="url(#bgGradient)" stroke="#边框颜色" stroke-width="3"/>
  
  <!-- 内圆装饰 -->
  <circle cx="50" cy="50" r="38" fill="none" stroke="#fff" stroke-width="2" opacity="0.5"/>
  
  <!-- 中心图标（可使用 emoji 或自定义路径） -->
  <text x="50" y="45" text-anchor="middle" font-size="28" fill="white">🎯</text>
  
  <!-- 底部文字 -->
  <text x="50" y="72" text-anchor="middle" font-size="10" font-weight="bold" fill="white">徽章名称</text>
</svg>
```

**推荐配色方案：**

| 稀有度 | 主色 | 边框色 | 适用场景 |
|--------|------|--------|----------|
| 普通 (common) | `#4ade80` → `#22c55e` | `#16a34a` | 入门级徽章 |
| 优秀 (uncommon) | `#3b82f6` → `#2563eb` | `#1d4ed8` | 进阶成就 |
| 稀有 (rare) | `#f43f5e` → `#e11d48` | `#be123c` | 高级成就 |
| 史诗 (epic) | `#a855f7` → `#9333ea` | `#7e22ce` | 稀有成就 |
| 传奇 (legendary) | `#fcd34d` → `#f59e0b` → `#b45309` | `#92400e` | 顶级成就 |

### 步骤 2: 在 badgeStore.js 中注册徽章

打开 `src/stores/badgeStore.js`，在 `BADGE_CATALOG` 数组中添加新徽章配置：

```javascript
const BADGE_CATALOG = [
  // ... 现有徽章 ...
  
  // 添加新徽章
  {
    id: 'my-new-badge',           // 唯一标识符，与 SVG 文件名一致（不含扩展名）
    name: '新徽章',               // 显示名称
    description: '徽章描述文字',   // 详细描述
    price: 100,                   // 金币价格
    rarity: 'uncommon',           // 稀有度: common/uncommon/rare/epic/legendary
    category: 'focus',            // 分类: focus/time/achievement/garden/todo/economy/collection/special
    svg: 'my-new-badge.svg'       // SVG 文件名
  }
]
```

### 步骤 3: 测试验证

1. 运行开发服务器：`npm run dev`
2. 打开应用，进入花园页面
3. 点击顶部徽章入口进入徽章商店
4. 确认新徽章正确显示且可购买

## 配置参数说明

### 稀有度 (rarity)

| 值 | 名称 | 建议价格范围 |
|----|------|--------------|
| `common` | 普通 | 50 - 100 |
| `uncommon` | 优秀 | 100 - 250 |
| `rare` | 稀有 | 250 - 500 |
| `epic` | 史诗 | 500 - 800 |
| `legendary` | 传奇 | 800 - 2000 |

### 分类 (category)

| 值 | 名称 | 图标 | 说明 |
|----|------|------|------|
| `focus` | 专注系列 | 🎯 | 与专注时长相关 |
| `time` | 时间系列 | ⏰ | 与特定时段相关 |
| `achievement` | 成就系列 | 🏆 | 里程碑成就 |
| `garden` | 花园系列 | 🌸 | 花园相关成就 |
| `todo` | 待办系列 | 📋 | 任务完成相关 |
| `economy` | 经济系列 | 💰 | 金币相关 |
| `collection` | 收藏系列 | ⭐ | 收集相关 |
| `special` | 特别系列 | ✨ | 特殊/限定徽章 |

## 定价建议

徽章价格应考虑以下因素：

1. **稀有度**：稀有度越高，价格越贵
2. **获取难度**：设计理念上代表更难达成的成就，价格应更高
3. **视觉效果**：设计更精美的徽章可适当提高价格
4. **平衡性**：确保玩家有合理的金币收入与支出循环

**当前定价参考：**
- 普通徽章：50 - 100 金币
- 优秀徽章：150 - 250 金币  
- 稀有徽章：300 - 400 金币
- 史诗徽章：500 金币
- 传奇徽章：1000 金币

## 注意事项

1. **SVG 优化**：保持 SVG 文件简洁，避免过大的文件体积
2. **ID 唯一性**：确保徽章 `id` 在整个目录中唯一
3. **文件名一致**：`id` 字段应与 SVG 文件名（不含 `.svg`）完全一致
4. **响应式设计**：SVG 使用 `viewBox` 确保在不同尺寸下正常显示
5. **颜色可访问性**：确保文字在背景上有足够对比度

## 示例：完整添加流程

假设要添加一个"百日专注"徽章：

### 1. 创建 SVG 文件

创建 `src/assets/badges/hundred-days.svg`：

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <linearGradient id="bg100" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f43f5e"/>
      <stop offset="100%" style="stop-color:#e11d48"/>
    </linearGradient>
  </defs>
  <circle cx="50" cy="50" r="45" fill="url(#bg100)" stroke="#be123c" stroke-width="3"/>
  <circle cx="50" cy="50" r="38" fill="none" stroke="#fff" stroke-width="2" opacity="0.5"/>
  <text x="50" y="42" text-anchor="middle" font-size="20" font-weight="bold" fill="white">100</text>
  <text x="50" y="58" text-anchor="middle" font-size="10" fill="white">DAYS</text>
  <text x="50" y="75" text-anchor="middle" font-size="9" font-weight="bold" fill="white">百日专注</text>
</svg>
```

### 2. 注册徽章

在 `BADGE_CATALOG` 中添加：

```javascript
{
  id: 'hundred-days',
  name: '百日专注',
  description: '连续使用100天，持之以恒的专注力令人敬佩',
  price: 350,
  rarity: 'rare',
  category: 'achievement',
  svg: 'hundred-days.svg'
}
```

### 3. 验证

运行应用，在徽章商店中查看新徽章是否正确显示。

---

如有问题，请检查浏览器控制台是否有错误信息。
